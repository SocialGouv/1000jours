// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`kosko generate --dev jobs/restore 1`] = `
"---
apiVersion: batch/v1
kind: Job
metadata:
  name: copy-db-0123456
  namespace: 1000jours-85-master-dev42
spec:
  backoffLimit: 0
  template:
    metadata: {}
    spec:
      containers:
        - command:
            - sh
            - '-c'
            - >

              [ ! -z $FROM_DATABASE ] || (echo \\"No FROM_DATABASE\\"; exit 1)

              [ ! -z $TO_DATABASE ] || (echo \\"No TO_DATABASE\\"; exit 1)


              OUTFILE=\\"/tmp/out.sql\\"


              echo \\"dumping to \${OUTFILE} from \${FROM_DATABASE##*@}\\"

              pg_dump --clean --verbose --no-owner --no-acl -U postgres -f
              \${OUTFILE} --dbname \${FROM_DATABASE}


              echo \\"restoring from \${OUTFILE} to \${TO_DATABASE##*@}\\"

              cat \${OUTFILE} | psql \${TO_DATABASE}


              echo \\"Finished\\"


              exit 0
          env:
            - name: FROM_DATABASE
              valueFrom:
                secretKeyRef:
                  name: azure-pg-user-preprod
                  key: DATABASE_URL
            - name: TO_DATABASE
              valueFrom:
                secretKeyRef:
                  name: azure-pg-user-master-dev42
                  key: DATABASE_URL
          envFrom: []
          image: postgres:11
          imagePullPolicy: IfNotPresent
          name: copy-db
          resources:
            limits:
              cpu: 300m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 64Mi
          volumeMounts: []
      restartPolicy: OnFailure
      volumes: []
  ttlSecondsAfterFinished: 86400
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    sealedsecrets.bitnami.com/cluster-wide: 'true'
  name: azure-pg-user-preprod
  namespace: 1000jours-85-master-dev42
spec:
  encryptedData:
    DATABASE_URL: >-
      AgCB1fkV1blajPPmZQaIGWirZSngaKDpOePDKCDJb8KFwnVXp8kleD34BMOdNiZjCBlnvXnD688jb9QNsmKdlg8Vw38kOmzayVo+CDQ31K4UZxO9ZRXsoWhb2FMjAFBhlknGxdpSmt9OoiYbRBUBEH7DEVpO91kUofAX4buJtLY4dxwHL/TvORNakpjmBP4OsoyORmYLPwRjktPuTgt4FzPuKkJOBdn/7gmzaVczV60X1OQC8yVi3Tymua4bpvy82lSAPgpPuz0qgK8eAvbhc3WHv3DUY9/qXp/JtHmQXTbLOWQ2PZrlrXnqWMQctr54azTB0OOHmeN4lJ2HyxuZiKfkBvQmNOaIaGEKvYLUeuDMCAR3JCTGRTuzruWaiuiQa7Vv7q9aOOYDqGVXXomKP+9G0LO729oVqTZuyRVIkiqQR6htSeUZar7USYSONXyNd71K1iyEes5hD/26M5j8sst6DSSoruQYXYInBqO6UTCe3Cj/91F+DSVGith3baBwof0Qlf6wZ4cQj2rRVUQrPQMZY471Ddutso4CtVZFospJ0eFhSG9CceWMZWv4s12FAjEze3pfNX0bf1o97EsIoH6KjdmfPO583IA2WURdtAm94S61pEjSctic/YPpnZ0P49maa2bm/oyWDpRx1PU99x5wwrL8jfamRdCouuJYV/gCrm1Qt0KaL71MDvsu2AFTHVZSoV7DO9inNqfrDegiHUO6ZDEP4aTOyJ8hB/+eyJ+7F4FoFznoUbPLJ9qtUNbON5yrFlUDsNcT/EL4GI1BN171fwQbWeDjlDUqFdXtmbSMFDTIZduxocu0Q+cEAUKztYDK7lQdnCZcjYNU3it7D1zkJGlccroKvy87Qjm1HPOcqje+j+sKLplujLMpQ6t/IrEgiG4qalLI8m65vFaue6T6PyMtuRF9i2id3KIkRWPSwe7kO2yfCNAEH/8=
    DB_URI: >-
      AgB4UjspqG4hl/Xyldn62wnFwy+RaI8Jx9GzhbC+eWAZLS98JVRhs7R55KkrmEJUUKdOpRSPA/tUNxPxGgqU5HJb6lQbuOKONSterrCEa4FrFcNY38YsYAw+cOiEKH5KBmLxMFYJa9EpR5AvnKr6IUDR//ugtEgyiHF8p8hA8XheXUI7xSUqAm3QXD38EscgkHQIFI4lKuMOYIG4JaQVmA0+DVQWC5cX0z2p2eoC3allj9b36K2Jy/IEuazx+IJstjinqVMT1vKdABHbQVLPK/y1vQZsCvvubztvICiPdKZ7hXp0DlGatQBO+0Q1ekVrvkTKjYh/qCY/ygtQAk0pCC821x2ii4cXujw/WsR4fUEEM+jLOO+K7sdOyrzTq0EU7jMTyRdYQ5xaXHs80BPG6VGEx34G3mPJeVP/eDjTlYUCJd7nAD8QHro0qJU5Z4QZdezIJDC273+cmBwhXZ6vTRhRKJSe12h32z4s3TK+xxkpw1dLqCM2ndA8n8brukh39RL4OCqeQRVn7kXdbzqUHKEQbw8xRMfCBBRgS6MIhnPsTl3X8Kw1jZ6wVfSR2Rpfbx2yg16kaU8no/5KJe+9ff1YLyAxpGt90e6Clzx46MfCXRcXDpTBVZF3x1JY85035eCj7KT6xzk2kB5BxmOddvAVzF5DMFFq6uFzDYsRjO6a5FtYSLI9W0bbnpe/uqvi2sCyqdStuLeI5OFXt/wSrVpaYiqRoTyVTgpkBhijyRoZiXfAmZrSd3yKXB0xFn9EiFhG5xuSUeJi/yoaB0BWWi3FuowXB8VYRF8POOeRBCI541ZOa27pJTEhuT3xMhx9E8S1yVCRvVdnR3JLOFrCsyVjyVHtpZAi8H12Dv+aTl8L1ZhTUDZMtsuj2ZFwTok7lH13AOHWRIcC9DCj0I6D6B9LG8SAhQi0UZU15tQyHxNz8OknZxXkvNrW6JE=
    HASURA_GRAPHQL_DATABASE_URL: >-
      AgDWtcSZS3KOjf75inK10q9lZ3+gU1zc0MjzWUasn+tH9VALKpDCNOsZDKP9k+w0vD+wFGLTEZD9Ek+QEiWWuyEssOplufJpQR7nDGtwqbbzsHwygGoUA6QgJOQC+sVXVN7GEvVDNGGwGFD7eAg0ZU0FxfFhbwp5SfOYY2fNuv4ib6pYKRbYyEs2/Iq+bK0hMzIpSG3fpSD0InNyBi9Mvb7mFq5R5VtTpw3++nJVrQwi6hv5PsOCPMQPdjhVQPc0NRh0SxDLbaoLCFCN4XoztlwDF0ScUd6HigEbn0K8DApO0DstliUClH4KW/DpTgqoTxKOAgp6Q4WzLrpythC6A4zuW36hBERt9uqxq16XhFg1M3CGZ+9dgDTquekG7AFYEooLMOuEpuYexMfOrRDCvS6WXN6X88nDJzYBnsPaEMHuwNbNzX2G/5PDQzmtLaSdTvV4fUwgAUohsKk2pYrHVPhDoE2TYFoiHWCw222lZ3eyFJc6fEGX71G0oEia07BZlTAG5mNlvPRjEoSxL/fd4+x1nhXX3WVK3JUQ3zc/rUZR7MVHwYLqLciG1qngaaAq+4yrDakcPFLKmMjhJqvXHBIU0hKUTPi3CRHuXNrm8RGoZlRrAuYeJr0RItKF14ssJCnGe0aZV3bbALO982Bo6KR78crZnjrBKfjJwYU6+yjb3VWyCb6u/BfURw3kRD9lJ1e4svGhalCP+n1Vzqb/Hq+nZHReJtAjHmoA3m+/XgBVoPNlIGXjxWM2R5xx4S/LpprPnIMidwuXRWiliefwT2NgY5yhy18C8ohk+qwsdI3AgPG0+SX4YR5A4azEiMxuo5Shv24zdlDD794uVhUVWRrRPJ1QhNeM1i3nO0Yx55fqSYOZqBZ9U/DLQQOx7kEKJiYXf7xyXkfdtJl24ZWq89MnUCMs6/zv2fMWmUjZE/l80j7Kli/NnHbEqF8=
    PGDATABASE: >-
      AgBMPZAWblOxiaUiNfojDMPCm+nzo0e3C4pPqEYIEld/N2ZVEgcBqg4J8X48gZ9mNPVvI4FMtTaFSqpWXgpYn4OPbxb4cjQc6C2reocFy52bavjQ1pA9JJg8xoonWeYzwohlUuuD1xuXqw6UR8QlulB32xJsFEgtmsybQ+aiSJM7rSelnTbV/reKU5SAWi5DLIF9dhfa1ymHdD0ht2uGsKe9dGf39NQbPZF+86B3S4AiuYzYlFzg5OftgQ6vO/RUqVtgUctOPO6R0d8Gmbiz5wQHQDZnJUSpWTgjW6zzRtOhBL7DOOd+gMzl59oYwBXlvfxQaw8RJtDewaPPS79eaeFs4rY0mRU3Bit05IeaXfYUcDexxxLR1x7iPRCn16nkKH8gu3BiHlzkWGiSaQQAi8tXuMsIe3mo9RX95jzqLsvFeqTFE5/b2i10QkhW/qj0zQomC1sSbYwNq/9nKzBk2dc/dmFe24HGQn3SIIL3XRyJS9VrBKhy1eU5uj1pq/iDeDCERtVZjwY2M7GKpPgmXSitr01t1lVyZXIFoiDpmxQM8jQSDMeYfgyBkvnx1OaHtFp6eIGK0WzgS/F0kqN9YVoGRwnDi7V356adFdlcAgOAnkCHXE7h/CqA2hczWtehoyuikzeB+J+L/dZfReY6IiRj5K05gF+roEZf6CEgLh/fGnt7z4Dkmpc381qZeSeShaSX5vVhQQ6S
    PGHOST: >-
      AgAWRuc3r8JAhvSLM8RoefDHwf/p4tGOWp+nI+Jgy23/+GmIjeOH+b4LygtkZkKVr0cNL0svObb9sm6zoDoWFMN4oA+jTydrHtZG8lbRc5s4I37HXqcZpalcDPEc2XVEhdEG8OXcVU7ePitQscqrqtGYmbaBvNICaw4vsU2rD2riP+6V0Fs6uVAfq5B7Srb+hDICVvqE9aq36k9M1Bez8DnHFxai4AkN5OYVwtoimc2aO0NwW3GTip/aFwPIKviB2M3jOukKQ5684qfLCZNOZ3p/t5X7cURcHliA4PhXFXMwsZy15OVGsCdmnEEMs6ErYd7LiN+puNGD1S6JRqGZpukqwBphA0MMmyxiEaUrXFpQipeHmPcBkPbYC6hhE6XlHoV5aoCY9faMCFrvaArbljTA1xxbCKJuKw1kY/Ur8rGV4q83TQ2vm1kEhk8p5+Gl4LWh8Hkl23SB5egwqNjzkZowrmykzN9Mtw7VgDIW24Zr+HdvqGl5G6s1GTQSmuI5KP06wxyybMQz2/3Jztoop1XKhSIVzgR32Z1zQWkYrNv8zYJpxDMJ62fbg9/GS/9CIulfpvrYkp4zia7dofxtzlyb5ljQQt+2hOb7YyvxiOabQPyZXsVFMx+K3HW2/hmPF+72yACn3FgP6a/kNLco/Ld2h6Qh4s4g5ESJOXJgPmcwsoGn7jIMtzXpo6R3vTgKqLNzyi7/anE82sKx+xPRNqq1Hbl6Qp8ScRfiegK/6ALBG879s4TzNUeqbrdHvdNBmw82
    PGPASSWORD: >-
      AgCdj8kDKaKGN0UNQtZG4OGriNaGQ/hDrWRORBk+eQ4H8UCQPQqq47A2UQSuGXi/T5Bpqoxf16LGMTHxMjnLc5smdh1EKcphHlarKNx7QVcEDI5VOhegYr9ftmQ7pGw7IiSV8jitVsBTOCIzz6IPmo/ZK9Jn9Ah5K9diTvc9Pn5aC6nXKlJ929ocnoD0SI6cIHbr5oBOiFT4yK6r7JMW5O/BHe3sLH8H8wplcq6ysZn794fXH9Vr2E3wekN4/d7e6oOCPBbEkPidiZknVitWkPxeKnTTVuzMWNKLR5yDqywvFGY6/vsUyqYO4wemF0n4n2ch3D2xVyRUCBNFnBuNT6IHOfolJ5OkbIC50NMLOGQ10u1QNK6ekixDIW/nIQoTl/Lr8r1OPWbiDY5ig2GOJLxgoWd6YqWVF7q3obyCSV73BRzYHE5Sw79LFJ4LEsTT3+J5dfXuIdD4Y/0Q7vUlrC1qh2Y8IMWPTyV9QyXzYn4bpLynPZRnL0siL6LtHDXwJUA1IIAPsU6xk6PyRuDR/pX/Jcv3BGUbLoyQpTPKthAyjPcrbPgJQfEKVkf3KTVYQesN2osdupJ+UAv5Na4sqFys0XVaAOuxHLBLVgFkGn48O77gj3uoofx417BEMhEPVYX95vffbZhEti0vI3s/09CCys4XjqMlYis3sVY0DB1xqG0o9AHcK7tj9VqoBcQWmNa2Kw7btk2sXq+zxtOlN9d8arjU+nbNUvt4xiI1jP4kJFPBeJCIn6M=
    PGRST_DB_URI: >-
      AgBu+kRUOZ2GEoCNcP9WXwQ5LLQqvNnKPBUYp7OlgL1RXtds5lBfTqc4a9s9lX84DT5jCldKLnsEmEQEXdj8waKM4rH9VVU+E5rg5Byp+nPMuqwnVkswsSZmxXSGc2GWh/1A8SGjkQ+bCJTa6iTj6tvVZUFPLEvfAiqwRhnh7Rx02n9T8oG84shKnEV/7GBOe7oRsSfz+/RvXcjG+oBXVIDgJC7EvfXGIWsAxD6zFLC7TC6LUSYMwGeB8oAG5AWziZ1SR0j8w8FTl+Dvvej62bRF0foyN7NiP1Lxl8ixhb+j9y/SqQRvjD5VIag9Lqw/PDBQeGRsZ9dOplSAmvO7KRuS7EzWlTw8hte8lumn8fyj3uRkibCpAYXemTE62dR5rGQnGUV7lrU+3anvsLEBWOrQureExgKdsfkiG9uyD7cOlAOec47+BV9aWT6ijuGG61dzvsHqVeXbAHwbEZT5Mz3PbhPyKQRx16hrNZQV5FMj0NfMI3EARFUK9o7wOaXNUeX4+A2DRf+edmtkonKkV0EeI0r8SMMEtxchE4gAmMrnylveuD18stimJKOITD2gjlSyhVrQZzKmF7Pj+QLFFPIhjT0xl89hzJSJXfebDwkPCxzYSYrd1M/hHvsJ/KzBCSnkW/MyoodPuwFAHKeiLu2OVWLjEOHaTdT+ycmehS/ixY67UoLZ+91sh7pJgi64NKx3Zx6T25pRRH7blV1Hc7yrYM8oG7ZPxn7oHD6vVVQr/URtdYuFoUBdTpvrLxT0icvdrGXGx6tyYmBQkpPjkkZcp/0Qyydp1n9Uzg8U2mJEtcd1MLx40QVrYBUXmzuU+si6Bjs1kV4r82pIK2yuraa9nn5EZlN/ZMpwEKfDSaGf3fhPyj0IrnCZL5lUjOcuhYpJBModCfZVmmZxcytTjtyWL7pz3Ynxy7C/1JE4g0yJ2xUnVoWILd3tbcE=
    PGSSLMODE: >-
      AgBN8CeXeoHQT8AfqLrzpLkR/mAeswU8se+RvQYjtbjh9h3Nz4MCGXI0uzBENmmo8lOXO+ZBCOh2V0n1wH/0/XtxD+kX7cfOeylCqRoF1ZbNTSEnjW6r2vsY/shdLFMHUXIY8c9yrfi5IvIoWMbPdM9jKT2ghQ7gH60uAtz3Lo8+6284VrHftPkwsIfuW1HEBaWoiAYR4cnWtYKnG/EXiUjj0LC1Q9T9xjYehEmXzK2JYs5g/vHkmxRC/CdufBlGJ0FVcCqSZI1swUhpz2BmfnuBCixnZYXnweeOtLra7ffkV8vwiXLlXSmenLbNxlkLtaq9MrKdR5BvNeCtmJDgO438ASD4xpVUqJoqI2i1CkizTf5NfNOTQbQP2CpaDWXlkqqMF4tsg3Z2TxHjZ/MoPYfBtWonEx1AEhfMKiOGCI4EMJKu1w9ajSruGay64ZJ2eh3LJhA606fEwhXuEHJbNhe2yolFao3EPC6IOGWBHQaA4F0syHUeJxqToi1daYtlBtOqJ120yv01vBIkU27OajyaClqGdMwqTRurUByI02chom3psyKZhIsziqrnbMUPeiatkuHfcq5k16ASNi4rDYl2Ni/xFHGcd6KYn/gi6R9dVffNCUhF7rAo0yt0s3bOUqRB30QOZd9qdp3ouXyFg3Pao/dLuXDTDHkkG/LaAiVU16+3DUr9iLwyb9RCgwIPDIl87ig+9cvN
    PGUSER: >-
      AgDO9HFqbSU1qCWmC8Rc+6+UTdZKFt72BvC4BKqwFihxac5WSZ0wqeL/x9oqlS/ncSMU9Aj4anX/F4yChp915uIVRZ3djyBYHWVSxkfVk5I1Gz2wZjzNBuPpXeBWQFjJaTWKc8c0HP4KHpy4b01/dovn0y4yNpNwIj7Sc1JsNKLZ+OtFTgyhMW8ThqnzzeXLBSYTsFapc2bC1NR2+f9TE3F0NJfFxzFMVEQ66knaUexkd7N8vztmAhtQEV9+YryU92pRrVRaUdikizanwztjjns9HrOle9QUK/++8I+I9fpJxOXYEUMUMkBGsKRNaXDFxaGEs8ColnqhB4IGMAIUYX8Lla7Daoj6vQ2Dv1B+iOc442O0EaW2p3MU2a3J0rCP8E+i4L9FaQwQwPFOgInjaGH1L92RoG+/UV6FiLI7oLmyBdMZ1FRYb3MxB771TOmkTjQ1hzM8MMi4LheOu0zxNkUM0r/GKOpPNEP2seT95ejAZ1zS5TJUtzppUTT05wTaDDdikeb/rMI79l1rYyHu4igsbOw0lbXKP82xxVxBic8HIS4n+odFZSAOXC1zTRS8mhjqES5hyckxPb6OPCwxFNbhHzrHYvf/9zZAJ4gHB2xYS5xLxVJoCCrmvGlwtSvsSdwNeY0aBBrWF140YXm9Mg+2tn51uabT5aN6MwNjMZM9xOJ5CFIkx0ywOiACw30TzU6AwrF2+4Pf8w48Asy0+Ueok0aWoGB4sShm2Ft2Ss+4enJ8vxW+jKiJ6JoVjoZjxoNFwPBhkfHUIrY=
  template:
    metadata:
      annotations:
        sealedsecrets.bitnami.com/cluster-wide: 'true'
      name: azure-pg-user-preprod
    type: Opaque
"
`;
